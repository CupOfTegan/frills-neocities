{% extends "structure/templates/page-3col.njk" %}
{% import "structure/components/components.njk" as macro with context %}

{%- block left -%}
    {% if pics %}
    {%- for pic in pics %}
    <img src="{{ pic.src }}" alt="{{ pic.alt }}" class="mw-90">
    {%- endfor %}
    {% endif %}
{%- endblock -%}

{%- block main -%}
    <article class="full-width">
        <header class="mb-2">
            {% if tags.includes("changelog") %}
            <h1>{{ page.date | readableDate }}</h1>
            {% else %}
            <h1>{{title}}</h1>
            {% endif %}

            {% if tags.includes("posts") %}
            <small>Written on <time datetime="{{ page.date | htmlDateString }}">{{ page.date | readableDate }}</time></small>
            {% endif %}
        </header>
        <div class="reading-width{% if tags.includes("weeknotes") %} h-sm{% endif %}">
            {{ content | safe }}
        </div>
    </article>
{%- endblock -%}

{%- block right -%}
    <ul class="unstyled">
        {% if tags %}
        <li class="mb-1">
            {%- for tag in tags | filterTagList %}
            <span class="tag">#{{ tag }}</span>{%- if not loop.last %} {% endif %}
            {%- endfor %}
        </li>
        {% endif %}
        {% if recipe.time %}
        <li>‚è∞ Recipe time: {{recipe.time}}</li>
        {% endif %}
        {% if recipe.cooking %}
        <li>üî• Cooking time:  {{recipe.cooking}}</li>
        {% endif %}
        {% if recipe.tools %}
        <li>ü•£ Tools: {{recipe.tools}}</li>
        {% endif %}
    </ul>
{%- endblock -%}